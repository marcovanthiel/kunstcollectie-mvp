"use strict";(()=>{var e={};e.id=264,e.ids=[264],e.modules={3524:e=>{e.exports=require("@prisma/client")},7096:e=>{e.exports=require("bcrypt")},9344:e=>{e.exports=require("jsonwebtoken")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},8690:(e,r,t)=>{t.r(r),t.d(r,{config:()=>c,default:()=>l,routeModule:()=>w});var a={};t.r(a),t.d(a,{default:()=>u});var n=t(1802),o=t(7153),i=t(6249),s=t(7864),d=t(9823);let handler=async(e,r)=>{let{id:t}=e.query,a=parseInt(t);if(isNaN(a))return r.status(400).json({error:"Ongeldig kunstwerk-ID."});switch(e.method){case"GET":return getArtwork(e,r,a);case"PUT":return updateArtwork(e,r,a);case"DELETE":return deleteArtwork(e,r,a);default:return r.setHeader("Allow",["GET","PUT","DELETE"]),r.status(405).json({error:`Methode ${e.method} niet toegestaan`})}},getArtwork=async(e,r,t)=>{try{let e=await s.Z.artwork.findUnique({where:{id:t},include:{artist:{select:{id:!0,name:!0}},artworkType:{select:{id:!0,name:!0}},location:{select:{id:!0,name:!0}},images:!0,attachments:!0}});if(!e)return r.status(404).json({error:"Kunstwerk niet gevonden."});return r.status(200).json(e)}catch(e){return console.error("Error fetching artwork:",e),r.status(500).json({error:"Er is een fout opgetreden bij het ophalen van het kunstwerk."})}},updateArtwork=async(e,r,t)=>{try{let{title:a,artistId:n,typeId:o,height:i,width:d,depth:u,weight:l,year:c,estimated:w,isEdition:p,editionDesc:k,isSigned:v,signatureDesc:h,description:g,locationId:m,purchaseDate:f,purchasePrice:j,supplier:E,marketValue:y,insuredValue:b}=e.body,I=await s.Z.artwork.findUnique({where:{id:t}});if(!I)return r.status(404).json({error:"Kunstwerk niet gevonden."});let _={};void 0!==a&&(_.title=a),void 0!==n&&(_.artistId=parseInt(n)),void 0!==o&&(_.typeId=parseInt(o)),void 0!==i&&(_.height=i?parseFloat(i):null),void 0!==d&&(_.width=d?parseFloat(d):null),void 0!==u&&(_.depth=u?parseFloat(u):null),void 0!==l&&(_.weight=l?parseFloat(l):null),void 0!==c&&(_.year=c?parseInt(c):null),void 0!==w&&(_.estimated=w),void 0!==p&&(_.isEdition=p),void 0!==k&&(_.editionDesc=k),void 0!==v&&(_.isSigned=v),void 0!==h&&(_.signatureDesc=h),void 0!==g&&(_.description=g),void 0!==m&&(_.locationId=m?parseInt(m):null),void 0!==f&&(_.purchaseDate=f?new Date(f):null),void 0!==j&&(_.purchasePrice=j?parseFloat(j):null),void 0!==E&&(_.supplier=E),void 0!==y&&(_.marketValue=y?parseFloat(y):null),void 0!==b&&(_.insuredValue=b?parseFloat(b):null);let x=await s.Z.artwork.update({where:{id:t},data:_,include:{artist:{select:{id:!0,name:!0}},artworkType:{select:{id:!0,name:!0}},location:{select:{id:!0,name:!0}}}});return r.status(200).json(x)}catch(e){return console.error("Error updating artwork:",e),r.status(500).json({error:"Er is een fout opgetreden bij het bijwerken van het kunstwerk."})}},deleteArtwork=async(e,r,t)=>{try{let e=await s.Z.artwork.findUnique({where:{id:t}});if(!e)return r.status(404).json({error:"Kunstwerk niet gevonden."});return await s.Z.artwork.delete({where:{id:t}}),r.status(200).json({message:"Kunstwerk succesvol verwijderd."})}catch(e){return console.error("Error deleting artwork:",e),r.status(500).json({error:"Er is een fout opgetreden bij het verwijderen van het kunstwerk."})}},u=(0,d.fS)(handler),l=(0,i.l)(a,"default"),c=(0,i.l)(a,"config"),w=new n.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/artworks/[id]",pathname:"/api/artworks/[id]",bundlePath:"",filename:""},userland:a})}};var r=require("../../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[222,896],()=>__webpack_exec__(8690));module.exports=t})();